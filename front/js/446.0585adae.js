"use strict";(self["webpackChunkvideo_uploader"]=self["webpackChunkvideo_uploader"]||[]).push([[446],{2446:(e,a,t)=>{t.r(a),t.d(a,{default:()=>A});var l=t(3673),o=t(2323);const n=e=>((0,l.dD)("data-v-6c122b24"),e=e(),(0,l.Cn)(),e),r={class:"page-content app-card"},s=n((()=>(0,l._)("div",{class:"text-h6 text-center auth-header"},"Welcome to AppClick",-1))),u={class:"error"};function i(e,a,t,n,i,d){const m=(0,l.up)("q-icon"),c=(0,l.up)("q-input"),p=(0,l.up)("q-btn"),g=(0,l.up)("q-form"),h=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(h,{class:"row gradient-bg items-center justify-center"},{default:(0,l.w5)((()=>[(0,l._)("div",r,[s,(0,l.Wm)(g,null,{default:(0,l.w5)((()=>["register"===e.authType?((0,l.wg)(),(0,l.j4)(c,{key:0,filled:"",modelValue:e.formData.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formData.name=a),label:"Name",class:"full-width","bottom-slots":""},{prepend:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"person"})])),_:1},8,["modelValue"])):(0,l.kq)("",!0),(0,l.Wm)(c,{type:"email",filled:"",modelValue:e.formData.email,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formData.email=a),label:"Email",class:"full-width","bottom-slots":""},{prepend:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"email"})])),_:1},8,["modelValue"]),(0,l.Wm)(c,{type:"password",filled:"",modelValue:e.formData.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.password=a),label:"Password",class:"full-width","bottom-slots":""},{prepend:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"lock"})])),_:1},8,["modelValue"]),(0,l.Wm)(p,{color:"primary",class:"toggle-btn",label:e.authText.btn,icon:"register"===e.authType?"send":"login",onClick:e.sendAuth},null,8,["label","icon","onClick"]),(0,l._)("p",u,(0,o.zw)(e.authError),1),(0,l._)("div",{onClick:a[3]||(a[3]=(...a)=>e.toggleAuth&&e.toggleAuth(...a)),class:"text-h6 auth-toggle"},(0,o.zw)(e.authText.toggle),1)])),_:1})])])),_:1})}var d=t(8825),m=t(1959),c=t(52),p=t.n(c);const g=(0,l.aZ)({name:"Auth",setup(){const e=(0,d.Z)(),a=(0,m.iH)("login"),t=(0,m.iH)({type:a.value,name:"",email:""}),o=(0,l.Fl)((()=>{const e={btn:"Login",toggle:"Create Account"};return"register"===a.value&&(e.btn="Register",e.toggle="or, Login"),e})),n=()=>{"register"!==a.value?a.value="register":a.value="login"},r=(0,m.iH)(null),s=()=>{const l=a.value,o="http://localhost:3000/auth/user";t.value.type=l,p().post(o,t.value).then((l=>{let o=l.data,n=l.data;const s=n.status;if(s){let l={logged:!0,data:{name:"",email:""}};"login"===a.value?(l.data.name=n.name,l.data.email=n.email):"register"===a.value&&(l.data.name=t.value.name,l.data.email=t.value.email),e.cookies.set("currentUser",JSON.stringify(l)),window.location.reload()}else r.value="SQLITE_CONSTRAINT"===o?"User already exists!":"NOT_EXISTING"===o?"User does not exist!":"Unknown Error"})).catch((e=>{console.log("err: ",e),r.value=e}))};return{formData:t,authText:o,authType:a,authError:r,toggleAuth:n,sendAuth:s}}});var h=t(4260),v=t(4379),f=t(8689),w=t(4689),b=t(4554),_=t(4607),k=t(7518),y=t.n(k);const T=(0,h.Z)(g,[["render",i],["__scopeId","data-v-6c122b24"]]),A=T;y()(g,"components",{QPage:v.Z,QForm:f.Z,QInput:w.Z,QIcon:b.Z,QBtn:_.Z})}}]);